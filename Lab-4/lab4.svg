<svg xmlns="http://www.w3.org/2000/svg" xmlns:html="http://www.w3.org/1999/xhtml" onload="move_monster1();move_monster2()">
	<!--
		lab4.svg
		Unmarked Lab
		Catch Multiple Monsters Game
		New - Audio Files Included
		
		(c) Donald Leung.  All rights reserved.
		Note: I know the game logic in this game is flawed, but whatever :p  Furthermore, this lab is not 100% complete since it won't be marked anyway :p
	-->
	<script>
	<![CDATA[
	// Variables
	var the_monster1,
		the_monster2,
		the_timer1,
		the_timer2,
		count = 0,
		count2 = 0,
		width = 600,
		height = 600,
		width2 = 600,
		height2 = 600;
		
	// Extra Variables
	var the_text, the_text2;
	
	// My Variables
	var rx = 0, ry = 0, rx2 = 0, ry2 = 0, transformText = "", transformText2 = "", monstersLeft = 2;
	
	function move_monster1() {
		// alert("The JS Code works!");
		the_monster1 = document.getElementById("monster1");
		rx = Math.round(width * Math.random());
		ry = Math.round(height * Math.random());
		transformText = "translate(" + rx + " " + ry + ")";
		// alert(transformText);
		the_monster1.setAttribute("transform", transformText);
		count++;
		// alert(count);
		the_timer1 = setTimeout(function() {
			move_monster1();
		}, 500);
	}
	
	function move_monster2() {
		// alert("The JS Code works!");
		the_monster2 = document.getElementById("monster2");
		rx2 = Math.round(width2 * Math.random());
		ry2 = Math.round(height2 * Math.random());
		transformText2 = "translate(" + rx2 + " " + ry2 + ")";
		// alert(transformText);
		the_monster2.setAttribute("transform", transformText2);
		count2++;
		// alert(count);
		// Monster 2 moves slightly faster ;)
		the_timer2 = setTimeout(function() {
			move_monster2();
		}, 400);
	}
	
	function get_monster1() {
		clearTimeout(the_timer1);
		the_monster1.setAttribute("onmousedown", "");
		the_text = document.getElementById("message_text");
		monstersLeft--;
		document.getElementById("monster1").setAttribute("visibility", "hidden");
		if (count <= 4) {
			the_text.textContent = "Wow, you got the monster in " + count + " moves only!  Excellent!";
		} else if (count > 4 && count <= 8) {
			the_text.textContent = "You got the monster in " + count + " moves.  Good.";
		} else {
			the_text.textContent = "You finally got the monster after " + count + " moves.  Try getting the monster more quickly next time.";
		}
		document.getElementById("sound1").play();
		checkDone();
	}
	
	function get_monster2() {
		clearTimeout(the_timer2);
		the_monster2.setAttribute("onmousedown", "");
		the_text2 = document.getElementById("message_text2");
		monstersLeft--;
		document.getElementById("monster2").setAttribute("visibility", "hidden");
		if (count2 <= 4) {
			the_text2.textContent = "Wow, you got Monster 2 in " + count2 + " moves only!  Excellent!";
		} else if (count2 > 4 && count2 <= 8) {
			the_text2.textContent = "You got Monster 2 in " + count2 + " moves.  Good.";
		} else {
			the_text2.textContent = "You finally got Monster 2 after " + count2 + " moves.  Try getting the monster more quickly next time.";
		}
		document.getElementById("sound2").play();
		checkDone();
	}
	
	function checkDone() {
		if (monstersLeft <= 0) {
			document.getElementById("reloadButton").setAttribute("visibility", "visible");
			document.getElementById("reloadButton").setAttribute("onmousedown", "location.reload()");
		}
	}
	]]>
	</script>

	<text x="100" y="100" style="font-Size:50pt">Get the Monsters!</text>
	<text x="100" y="800" id="message_text" style="font-size: 25pt; fill: brown;"></text>
	<text x="100" y="900" id="message_text2" style="font-size: 25pt; fill: brown;"></text>
	
	<g id="reloadButton" visibility="hidden" onmousedown="void(0)">
		<rect x="500" y="500" width="400" height="100" style="fill: green;" />
		<text x="550" y="550" style="fill: black; font-size: 50px;">Reload Game</text>
	</g>

	<g id="monster1" transform="translate(0 0)" onmousedown="get_monster1()">
		<!-- Head Components (this is the entire monster in the game) -->
		<g transform="scale(0.65 0.65)">
			<circle cx="200" cy="150" r="100" style="fill: #ffe9b3; stroke: black;" />
			<circle cx="165" cy="110" r="10" style="fill: black; stroke: black;" />
			<circle cx="235" cy="110" r="10" style="fill: black; stroke: black;" />
			<path d="M 190 140 L 210 140 L 215 175 L 185 175 z" style="fill: #ffe9b3; stroke: black;" />
			<path d="M 150 200 L 160 215 L 170 225 L 180 230 L 190 232.5 L 200 235 L 210 232.5 L 220 230 L 230 225 L 240 215 L 250 200 z" style="fill: red; stroke: black;" />
			<path d="M 190 210 L 210 210 L 210 230 L 209 235 L 208 239 L 206 242 L 203 245 L 200 246 L 197 245 L 194 242 L 192 239 L 191 235 L 190 230 z" style="fill: pink; stroke: black;" />
			<line x1="200" y1="215" x2="200" y2="240" style="stroke: black;" />
		</g>
		
		<!-- Other Body Parts (Commented out) -->
		<!--
		<line x1="200" y1="250" x2="200" y2="450" style="stroke: black;" />   
		<line x1="200" y1="250" x2="125" y2="325" style="stroke: black;" />
		<line x1="200" y1="250" x2="275" y2="325" style="stroke: black;" />
		<line x1="200" y1="450" x2="125" y2="525" style="stroke: black;" />
		<line x1="200" y1="450" x2="275" y2="525" style="stroke: black;" />
		-->
	</g>
	<g id="monster2" transform="translate(0 0)" onmousedown="get_monster2()">
		<!-- Head Components (this is the entire monster in the game) -->
		<g transform="scale(0.65 0.65)">
			<circle cx="200" cy="150" r="100" style="fill: #00e9b3; stroke: black;" />
			<circle cx="165" cy="110" r="10" style="fill: black; stroke: black;" />
			<circle cx="235" cy="110" r="10" style="fill: black; stroke: black;" />
			<path d="M 190 140 L 210 140 L 215 175 L 185 175 z" style="fill: #00e9b3; stroke: black;" />
			<path d="M 150 200 L 160 215 L 170 225 L 180 230 L 190 232.5 L 200 235 L 210 232.5 L 220 230 L 230 225 L 240 215 L 250 200 z" style="fill: red; stroke: black;" />
			<path d="M 190 210 L 210 210 L 210 230 L 209 235 L 208 239 L 206 242 L 203 245 L 200 246 L 197 245 L 194 242 L 192 239 L 191 235 L 190 230 z" style="fill: pink; stroke: black;" />
			<line x1="200" y1="215" x2="200" y2="240" style="stroke: black;" />
		</g>
		
		<!-- Other Body Parts (Commented out) -->
		<!--
		<line x1="200" y1="250" x2="200" y2="450" style="stroke: black;" />   
		<line x1="200" y1="250" x2="125" y2="325" style="stroke: black;" />
		<line x1="200" y1="250" x2="275" y2="325" style="stroke: black;" />
		<line x1="200" y1="450" x2="125" y2="525" style="stroke: black;" />
		<line x1="200" y1="450" x2="275" y2="525" style="stroke: black;" />
		-->
	</g>
	
	<html:audio src="scream.ogg" id="sound1" />
	<html:audio src="scream.ogg" id="sound2" />
	<html:audio src="background.ogg" autoplay="autoplay" loop="loop" />

</svg>

